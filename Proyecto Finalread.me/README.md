# PROYECTO FINAL - ELECTRÓNICA DIGITAL


### Contenido

1. [Identificación del problema](#identificación-del-problema)
2. [Análisis PESTAL](#análisis-pestal)
3. [Antecedentes](#Antecedentes)
4. [Objetivos](#objetivos)
5. [Descripción de la solución planteada](#Descripción-de-la-solución)
6. [Presupuesto](#Presupuesto)
7. [Resultados](#resultados)
5. [Conclusiones](#conclusiones-page_facing_up)
8. [Autores](#autores-blacknib)
   
## **Identificación del problema**
A lo largo de los años ha surgido la necesidad de administrar y controlar los recursos dentro de una casa como energía eléctrica, el aire acondicionado, calefacción, etc., de tal forma que se puedan ahorrar gastos y a su vez tener confort dentro de las casas. 

Dentro de nuestra sociedad las distancias, la falta de tiempo e inseguridad nos lleva a requerir herramientas necesarias para cumplir con nuestras actividades de manera óptima. Puesto que, debido a la acelerada y rutinaria vida que llevamos los seres humanos, en la actualidad no se tiene el control y cuidado en nuestro hogar o en nuestros sitios de trabajo de supervisar situaciones tan sencillas como dejar encendidos los aires acondicionados, o de extender las toldas en los camiones de comida que se presentan en diferentes sitios de una ciudad, encendido de bombillos, etc., mientras no están en uso. Por ello al implementar sistemas automatizados podremos obtener un notable ahorro de energía, un nivel de seguridad así como un grado de confort superior dentro de un hogar o sitio de trabajo. 

La mayoria de las necesidades de las personas, dentro de una casa o sitio de empleo, se pueden resolver haciendo uso de la ingeniería por medio de un conjunto de elementos automatizados que instalados, interconectados y controlados liberan al usuario de realizar acciones rutinarias. 

Por lo anterior, se analizó especificamente a los camiones de comida que están presentes en muchos sitios de la ciudad de Bogotá, en la mayoría de los casos solo hay una persona que atiende a sus clientes, mientras ellos preparan el pedido, mucha gente esta a la espera y con ello a la espera de servicios de atención como una carpa por si llueve, encender la luz por si el sitio es oscuro o recibir el sol sin que haya sombra, por ello más adelante se muestra la propuesta de un puesto de comida automatizado que facilita a el trabajador brindar buenos servicios de atención permitiendo menor esfuerzo y con ello menor estres en el sitio de trabajo. 

## Análsis PESTAL

- **Político:**
  Se deben considerar las regulaciones gubernamentales relacionadas con la automatización en hogares y negocios. Puede haber incentivos o restricciones específicas que afecten la adopción de tecnologías automatizadas.

  Así pues, según lo establecido en el artículo 2 de la Constitución Política de Colombia. Busca servir a la comunidad, promover la prosperidad general y garantizar la efectividad de los principios, derechos y deberes consagrados en la Constitución.

  En el DECRETO 88 DE 2022, Hace referencia a la Ley 962 de 2005, la cual consagra como uno de sus principios rectores el fortalecimiento tecnológico. En este contexto, se destaca el papel del Ministerio de Tecnologías de la Información y las Comunicaciones (MinTIC) para incentivar el uso de medios tecnológicos integrados que agilicen y eficienticen los trámites administrativos.

  El decreto se inscribe en el marco legal de la Ley 962 de 2005 y el Decreto Ley 19 de 2012, que buscan la racionalización de trámites y procedimientos administrativos. La legislación prioriza la simplificación, estandarización, eliminación, optimización y automatización de procesos, fomentando la participación ciudadana y la transparencia.


- **Económico:**
  Se evidencia posteriormente que el costo de implementación del proyecto es de $709,500 c/u. Proyectando a 5 años de ventas y teniedo en cuenta que hay aproximadamente 39,620 vendedores de comida en Bogotá, de los cuales 5,000 son formales y suponiendo que se realizan ventas de 10 taldas automatizadas con iluminación cada mes, se venderán 600 toldas en 5 años. Esto representa una inversión de $23,772.000 en este periodo, por lo que si el precio de venta a los clientes es de $1'000.000 a los 5 años se tiene un flujo neto de $576,228,000 sin tener en cuenta operarios y transporte. A largo plazo, si se presentará incremento de ventas cada mes, podremos obtener ganancias que compensan otros gastos, resultando en un aumento proyectado de las ganancias en el futuro. Por lo tanto, este proyecto parece ser viable para su implementación en diversas áreas de Bogotá. 
  
- **Social:**
  El cambio en el estilo de vida y las preferencias de las personas hacia la comodidad y la eficiencia podría ser un impulsor clave para la adopción de sistemas automatizados en el hogar y en negocios como los camiones de comida.
  La búsqueda de mayor seguridad y confort en el hogar y en el lugar de trabajo puede ser una motivación importante para adoptar sistemas automatizados.

- **Tecnológico:**
  La disponibilidad de tecnologías avanzadas, como sensores inteligentes, sistemas de automatización del hogar y herramientas específicas para la propuesta de puestos de comida automatizados puede tener un impacto significativo.
  
- **Ambiental:**
  La utomatización de camiones de comida, ambulantes o parecidos puede contribuir a la eficiencia energética en el hogar y en negocios, lo que podría estar alineado con iniciativas ambientales y sostenibles.
  
- **Legal:**
   - Marco Legal: En el DECRETO 88 DE 2022 se sustenta en la Constitución Política, la Ley 962 de 2005, el Decreto Ley 19 de 2012, la Ley 1341 de 2009, la Ley 1955 de 2019, el Decreto Ley 2106 de 2019, la Ley 2052 de 2020, y otras leyes relacionadas con la racionalización de trámites y la transformación digital.
   - Obligaciones Legales: Establece obligaciones para entidades estatales y particulares en relación con la automatización y digitalización de trámites, siguiendo lineamientos definidos por el Ministerio de Tecnologías de la Información y las Comunicaciones.
   - Interoperabilidad: Destaca la importancia de la interoperabilidad y la masificación del gobierno en línea, así como la obligación de las entidades estatales de incorporar el componente de transformación digital en sus planes de acción.

## **Antecedentes**
Básicamente los proyectos realizados en esta área están desarrollados en el exterior, teniendo una tendencia a los relacionados con seguridad y luego los de comodidad o confort.

Este estudio argumentativo nace como una necesidad de averiguar las causas del por qué, aun en países latinoamericanos como el nuestro, la tecnología no ha llegado a ser lo suficientemente viable como para ser implementada o desarrollada.

La automatización en los diferentes entornos de trabajo empezó a tener importancia a todos los niveles y dejó de ser un privilegio. Estos procesos facilitan la vida de los emprendedores, empleados, trabajadores en general y además permiten ahorros importantes. 

Daniel Sánchez Arias, ingeniero en sistemas computacionales de la Universidad de las Américas, mencionó que los domóticos en las casa se utilizan para controles de acceso, metereología, aire acondicionado, detectores de movimiento, alarmas, caefacción por zonas, persianas, paneles solares, teatros en casa, iluminación y estado de puertas y ventanas.

El tener toda esta oferta no significa que se deba poner todo en el hogar o sitio de empleo, pues la gente puede optar por aparatos simples que le permitan monitorear la vivienda sólo con una cámara.

A nivel mundial, las tiendas automatizadas y los carritos inteligentes se estaban volviendo más populares gracias a avances en tecnologías como el internet de las cosas (loT), la inteligencia artificial y la automatización. Estás tecnologías han permitido el desarrollo de soluciones innovadoras para el comercio minorista.

En colombia, el avance de la tecnología y la adopción de soluciones innovdoras en el comercio dependen de factores como la infraestructura tecnológica disponible, la aceptación del mercado, las regulaciones y la disposición de las empresas a invertir en soluciones tecnológicas avanzadas; a mediano y a largo plazo los beneficios son significativos, sobre todo por los ahorros que se llegan a generar. 

Por ejemplo, en el caso de la iluminación, se tienen sensores para determinar cuándo y cómo hay que encender la luz en ciertas áreas del sitio de trabajo. lo mismo ocurre con la tolda. 

El reto es ver cómo la domótica, mecatrónica, telemática o robótica se pueden adaptar a los desarrollos empresariales, pero a un bajo costo y pensando, sobre todo, en un desarrollo sustentable. 

## Objetivos
- **Objetivo General**

Diseñar un puesto de comida inteligente desde su maqueta hasta la implementación de sistemas con la finalidad de administrar recursos y satisfacer las necesidades presentes y futuras de los propietarios alcanzando una flexibilidad, tanto en la estructura como en los sistemas y servicios. 
  
- **Objetivos Especificos**

Diseñar sistemas para un control de Toldo y control de iluminación para un puesto de comida. Alcanzano un grado suficiente de estandarización e implantación, que permita uns reducción considerable de costos. 

## Descripción de la solución planteada

Se desea realizar un ciruito de control para el toldo e iluminación en una tienda de comida ambulante. El toldo tiene la función tanto de dar sombra como proteger del viento y de lluvia a los  clientes que se acerquen a realizar la compra, esperar o comer en compañia de más personas. 

Para el circuito de control tenemos las siguientes entradas:

Señal **S**: Indica si hay sol, Señal **L**: Indica si llueve, Señal **v** Indica si hay mucho viento, Señal **F**: Indica si hace frío en el interior de la casa.

Según los valores de estas entradas se bajará o subirá el toldo. Esto se realizará mediante la señal de salida BT (Bajar el toldo), así como también se encenderá o se apará el bombillo mediante la salida PB (Prender bombilla).

**El circuito que acciona el toldo y bombilla de iluminación debe funcionar según las siguientes características:**

Independienteme del resto de señales de entrada, siempre que llueva se debe extender el toldo para evitar que se moje la gente. No se considerará posible que simultáneamente llueva y haga sol. Además, siempre que sea de día la luz no estará encendida, esto dependerá de la señal que envié el sensor al arduino. 

Si hace viento se debe extender el toldo para evitar que el viento moleste, sin embargo, hay una excepción: aún cuando haya viento, si el día está soleado y hace frío en la calle, se recogerá el toldo para el que el sol llegué a la gente.

Por último, si no hace viento ni llueve, sólo se bajará el toldo en los días de sol y cuando haga calor en el interior, para evitar que caliente mucho. 

A continuación se pueden observar los paso a paso para llegar a nuestro sistema: 

- **Diseño de maqueta:**
  Se usó balso y diferentes materiales que nos ayudaran a simular las tiendas de comida comunmente vistas en la ciudad de bogotá. A continuación, se pueden observar las diferntes imágenes que muestran el diseño.

![image](https://github.com/NicolasA23/Lab0/assets/49196938/3dfb9682-7206-4c4b-b42f-8af3cc39583a)


- **Cálculos requeridos para la solución**
   - **Tabla de verdad:** Teniedno en cuanta las entradas y salidas mencionadas anteriormente se procede a realizar la tabla de verdad para el análisis.
 
![image](https://github.com/NicolasA23/Lab0/assets/49196938/084a3c08-f8d3-4217-9165-d04617b4fa4e)

   - **Mapas de Karaugh:** Se realizan los mapas de karnaugh para las respectivas salidas y así obtener la ecuación que representa el circuito
  
![image](https://github.com/NicolasA23/Lab0/assets/49196938/b3a84bbd-77e8-43ba-8993-e3f31de095d2)
![image](https://github.com/NicolasA23/Lab0/assets/49196938/a0b7bcd6-0ea8-4d76-bd7c-39397e9ebbe4)

   - **Circuito:** Luego de realizar los pasos anteriormente mencionados, se procede a simular el respectivo circuito que se implementa para el desarrollo de este proyecto, este se muestra a continuación: 
 
![image](https://github.com/NicolasA23/Lab0/assets/49196938/8f9f3b6f-e34b-47ed-921c-ee874e68504f)

- **Implementación de código Arduino:**
Para verficar el desarrollo de código para los procesos anteriormente mencionados dirigirse a la subcarpeta Proyecto_Digital en la carpeta Proyecto Finalread.me del repositorio.

- **Implementación del código en Verilog para la FPGA:**
Para verificar el código de Verilog que controla el comportamiento del toldo dirigirse a los archivos adjuntos. pero se explicarán brevemente a continuación:

```ruby
module bajar_toldo (
	input clk,
	input V,
	input S,
	input F,
	input L,
	output BT,
	output luz
);

wire [19:0] cable_limite;
wire [19:0] cable_contador;
wire bajar;

assign luz = S;


controlador micontrolador(

	.V(V),
	.S(S),
	.F(F),
	.L(L),
	.BT(bajar)


);

/*
luz miluz(
	.S(S),
	.luz(luz)

);

*/

switch miSwitch(

	.clk(clk),
	.switch(bajar),
	.lim(cable_limite)

);

contador miContador(

	.clk(clk),
	.count(cable_contador)

);


comparador miComparador(

	.clk(clk),
	.count(cable_contador),
	.lim(cable_limite),
	.sign(BT)

);



endmodule

```
Este es el archivo Top donde se interconectan todos los componentes

```ruby
module switch(
	input clk,
	input switch,
	output reg [19:0] lim
	
);


always@(posedge clk)

begin
	if(switch == 1)
		begin
			lim <= 20'd25000;
		end
	if(switch == 0)
		begin
			lim <= 20'd70000;
		end
end
			 

endmodule
```
Este es el código en donde se escogen los límites segun la entrada

```ruby
module contador (
	input clk,
	output reg [19:0] count = 0
);

/*
	25E6/(50Hz) = 500 000;
	2^19 = 524 288;
	
	50E6/(50Hz) =	1 000 000;
	2^20 = 1 048 576;

parameter SIZE = 19;
parameter LIMIT = 19'd500000;
*/

parameter SIZE = 20;
parameter LIMIT = 20'd1000000;

always@(posedge clk)
begin
	if(count == LIMIT)
		begin
			count <= 0;
		end
	else
		begin
			count <= count + 1;
		end
end

endmodule		

```

Este es el contador que define el límite de pulsos para la señal

```ruby
module comparador(
	input clk,
	input wire [19:0] count,
	input wire [19:0] lim,
	output reg sign
	
);

always@(posedge clk)
begin
	if(count < lim)
		begin
			sign <= 1;
		end
	else
		begin
			sign <= 0;
		end
end 

endmodule
```
Este es el comparador que tiene como salida la señal final PWM

```ruby
module controlador(
	//input switch,
	input V,
	input S,
	input F,
	input L,
	output BT
	
);


assign BT = ~((~F & S) | L | (~S & V));		 

endmodule

```

Y este es el controlador que depende de los sensores. 

**Diagrama RTL:**
![imagen](https://github.com/NicolasA23/Lab0/assets/47162775/0901844b-2902-4c21-a66d-c81d26c1b5c2)

**Simulación:**

![imagen](https://github.com/NicolasA23/Lab0/assets/47162775/7ef61e23-9213-4de3-ab21-8b4f8c346eda)



## Presupuesto
A continuación se puede evidenciar los elementos usados para la realización de nuestro proyecto y su debido precio. Si comparamos el salario de un operador que se encargue de realizar actividades de servicio al cliente en sitios como camiones de comida, ambulantes o similares; se puede observar que el costo es menor y aunque teniedo en cuenta que llevarlo a gran escala el margen de costos aumentaria, su precio neto en alrededor de un año sería superior a la inversión a realizar. 

![image](https://github.com/NicolasA23/Lab0/assets/49196938/a9a59dcb-e186-42fc-9fdc-7aaec9c56284)


## Resultados
A continuación podemos observar el link del video que evidencia el respectivo funcionamiento de la solución planteada:

https://drive.google.com/drive/folders/1GVEobSQTzQDdppPmPWlnBtD8mMFFrncD?usp=drive_link

## Conclusiones

Cada vez cobra más fuerza entre ingenieros y los propios inversionistas, el concebir y diseñar viviendas o sitios de trabajo que utilicen menos energía, que tengan menores gastos de operación, que sean más seguros, que ofrezcan un mejor ambiente interno entre sus ocupantes y que brinden ganancias considerables sobre su inversión. Por está razón, la demanda para la construcción de sistemas inteligentes que controlen iluminación, toldas, etc., con ahorros energéticos se está incrementando rápidamente. 


## Autores
- Yuli Fernanda Alpala Cuaspa
- Nicolás Andrés Niño Sabogal
- Nicolás Torres Orozco


